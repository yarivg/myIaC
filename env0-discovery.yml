# env0-discovery.yaml
commonConfig: &defaultConfig
  continuousDeployment: false
  pullRequestPlanDeployments: false

environments:
  firstEnv:
    name: "first-environment"
    # projectId: <>
    projectName: "dev-team1|App|us-east-1"
    # templateId: <>
    templateName: "app-template"
    
    workspaceName: "some-workspace"
    requiresApproval: true

    variableFiles:
      - path: common.tfvars
      - path: demo/demo.tfvars
    
    <<: *defaultConfig

  # dupWorkspace:
  #   name: "my-errored-environment"
  #   projectName: "dev-team1|App|us-east-1"
  #   templateName: "app-template"
  #   workspaceName: "some-workspace" # #1 Duplicate
  
  secondEnv:
    name: "second-environment"
    projectName: "us-east-1"
    # projectName: "dev-team1|DB|us-east-1" # #2 Resolve using full name
    templateName: "db-template"

    vcsPrCommentsEnabled: true
    vcsCommandsAlias: 'second'

    variableFiles:
      - path: common.tfvars
    <<: *defaultConfig
